#!/usr/bin/env bash

echo "-----> Installing cloc 1.8.8"

# change to the the BUILD_DIR ($1)
cd $1

# download the binary (-O) silently (-s)
curl -L https://github.com/AlDanial/cloc/releases/download/1.88/cloc-1.88.tar.gz -s -O

# make a directory to place the binary
mkdir -p vendor/cloc

# untar cloc
tar -xvf cloc-1.88.tar.gz

# Move the binary
mv cloc-1.88/cloc vendor/cloc/

# Add cloc to PATH
export PATH="$PATH:$HOME/vendor/cloc"

# clean up after ourselves
rm -rf cloc-1.88*
